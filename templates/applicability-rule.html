<!-- templates/applicability-rule.html -->
<div class="rule-card" data-rule-type="applicability" data-rule-index="{{index}}">
    <div class="rule-card-header">
        <span class="rule-type-badge">{{displayType}}</span>
        <button class="icon-btn" onclick="removeRule('applicability', {{index}})" title="Удалить">✕</button>
    </div>
    <div class="rule-fields">
        <div class="rule-field">
            <label>Тип правила</label>
            <select onchange="changeRuleType(this, 'applicability', {{index}})">
                <option value="entity" {{entitySelected}}>Сущность IFC</option>
                <option value="attribute" {{attributeSelected}}>Атрибут</option>
                <option value="property" {{propertySelected}}>Свойство</option>
            </select>
        </div>
        <div class="rule-field">
            <label>Поле</label>
            <input type="text" value="{{field}}" placeholder="Например: Name" 
                   onchange="updateRuleField(this, 'applicability', {{index}})">
        </div>
        <div class="rule-field">
            <label>Условие</label>
            <select onchange="updateRuleCondition(this, 'applicability', {{index}})">
                <option value="equals" selected>Равно</option>
            </select>
        </div>
        <div class="rule-field">
            <label>Значение</label>
            {{valueInput}}
        </div>
    </div>
</div>